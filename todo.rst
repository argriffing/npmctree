 * generic params and validation for lmap based calculations
 * finish making the tests work
 * note that the dense array functions may be more picky about data type,
   for example the sparse functions that worked on boolean data
   may have accidentally worked in some cases on float data
